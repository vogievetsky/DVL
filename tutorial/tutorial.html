<!DOCTYPE html>
<html>
	<head>
		<title>A DVL Walkthrough</title>
		<link rel="stylesheet" href="tutorial.css"></link>
		<script src="d3.v3.min.js"></script>
		<script src="../dvl.js"></script>    
	</head>
	<body>
    <h1>A DVL Walkthrough</h1>

    <hr>

    <h2>Contents</h2>
      <ol>
        <li>Motivations</li>
        <li>Examples</li>
        <li>Technical Overview</li>
        <li>A Simple Example Decomposed</li>
        <li>Creating DVL Variables</li>
        <li>Types of Apply Functions</li>
        <li>'bind' and 'register'</li>
        <li>Error-spotting?</li>
      </ol>

    <hr/>

    <h2>Motivations</h2>
    <p>What is DVL and why would I want to use it?</p>

    <p>DVL (Data Visualization Legos) reduces the effort of creating data visualizations of real-time data in the browser. You specify the data and a directed acyclic graph. When the data is updated, only those functions dependent on the changed data are updated. Essentially, you model the data flow and then spend your time working with the data.</p>

    <hr>

    <h2>Examples</h2>
    <p class="todo">Example 1</p>
    <p class="todo">Example 2</p>
    <p class="todo">Example 3</p>

    <hr>

    <h2>Technical Overview</h2>

    <hr>

    <h2>A Simple Example Decomposed</h2>

    <p>Here we create a variable and set up an HTML element to update whenever the variable is altered.</p>

    <div id="ex01"></div>
  <script src="example01.js"></script>

  <p>Let's walk through the code.</p>

    <code>
      <pre>
var coord = dvl(0);

setInterval(function() {
  coord.value(coord.value() + 0.01);
}, 500);

dvl.bindSingle({
  self: d3.select('div#ex01'),
  text: coord
})
    </pre>
  </code>


  <ol>
    <li>First, we create a variable. Notice the variable is wrapped in the dvl() function.
    Doing this enables the variable to send a message when its value has altered.</li>
    <li>Next we alter the data stored in the coord variable.</li>
    <li>Next we select the div HTML element with the "ex01" id and tell it to update it's text value whenever
    the coord variable changes.</li>
  </ol>

  <p>The text will only update when the coord value is updated. Setting up a data flow and then concerning yourself only with handling the data is a key philosophy of DVL.

  <h2>Using Multiple Values With DVL</h2>

  <p>We'll usually want to visualize multiple variables, so let's make example 01 multivariate. First, a few alterations to the single-variate case:</p>

  <div id="ex02"></div>
  <script src="example02.js"></script>

  <p>Let's look at the lines changed from example 01.</p>

  <code>
    <pre>
var coord = dvl(0);

setInterval(function() {
  coord.value(coord.value() + 0.01);
}, 500);

var coords = dvl.apply(coord, function(d) {
  return [d];})

var consoleOutput = dvl.bind({
  parent: d3.select('div#ex02'),
  self: 'p.output',
  data: coords,
  text: String
});      
    </pre>
  </code>

<p>Notice the addition of the 'dvl.apply' function. This function will be explained more in depth later, but for the moment just notice that it performs a transformation on the dvl variable we provide as input. In this case, we take the DVL variable 'coord' and return it as a single-element array. DVL expects arrays. (We actually did provide DVL with an array in example 01. We just used the convenience function dvl.bindSingle to do so.)</p>

<p>Next, notice 'dvl.bindSingle' has been replaced with the more general 'dvl.bind', which you will likely use more often. dvl.bind 

<!-- ************************************** -->
  <hr>
  <h2>Tidbits</h2>
  <ul>
    <li>dvl.debug('coord', coord)</li>
    <li>How DVL differs from backbone.js</li>
  </ul>

<!-- ************************************** -->
  <hr>
  <h2>Debug Practice</h2>

	</body>
</html>
